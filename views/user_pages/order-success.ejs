<!DOCTYPE html>
<html lang="en">

<head>
	<title><%= title %></title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="images/icons/favicon.png" />
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
	<link rel="stylesheet" type="text/css" href="fonts/linearicons-v1.0.0/icon-font.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
	<link rel="stylesheet" type="text/css" href="vendor/slick/slick.css">
	<link rel="stylesheet" type="text/css" href="vendor/MagnificPopup/magnific-popup.css">
	<link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<style>

	/* Styles for Modal */
	.custom-modal {
		display: none;
		position: fixed;
		z-index: 1;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: rgba(0, 0, 0, 0.4);
	}

	.custom-modal-container {
		background-color: #f7ebeb;
		margin: 10% auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
		max-width: 400px;
		position: relative;
	}

	.modal-header {
		font-size: 24px;
		margin-bottom: 15px;
	}

	.modal-description {
		font-size: 16px;
		margin-bottom: 20px;
	}

	.modal-actions {
		text-align: right;
	}

	.modal-btn {
		padding: 10px 15px;
		margin-left: 5px;
		text-align: center;
		text-decoration: none;
		display: inline-block;
		font-size: 16px;
		cursor: pointer;
		border: 1px solid #ddd;
		border-radius: 4px;
		background-color: #f5f5f5;
		color: #333;
	}

	.modal-btn:hover {
		background-color: #ddd;
	}

	/* Close Button Styles */
	.modal-close {
		position: absolute;
		right: 10px;
		top: 5px;
		font-size: 20px;
		font-weight: bold;
		color: #333;
		cursor: pointer;
	}

	.btn-cancel {
		background-color: #0aa02b;
	}

	.btn-delete {
		background-color: #d32f2f;
	}

	.modal {
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(0, 0, 0, 0.5);
	}

	.modal-content {
		background-color: #fff;
		padding: 20px;
		max-width: 400px;
		margin: 10% auto;
		border-radius: 8px;
		position: relative;
	}

	.close {
		position: absolute;
		top: 10px;
		right: 10px;
		font-size: 20px;
		cursor: pointer;
	}

	.modal-title {
		font-size: 1.5em;
		margin-bottom: 10px;
	}

	.modal-text {
		margin-bottom: 20px;
	}

	.btn {
		display: inline-block;
		padding: 10px 20px;
		text-decoration: none;
		border-radius: 4px;
		cursor: pointer;
	}

	.btn-delete {
		background-color: #e74c3c;
		color: #fff;
	}

	.btn-cancel {
		background-color: #3498db;
		color: #fff;
		margin-left: 10px;
	}

	/* Hover effect for buttons */
	.btn:hover,
	.btn-delete:hover,
	.btn-cancel:hover {
		opacity: 0.8;
	}

	.hello {
		display: none;
		position: fixed;
		z-index: 1;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: rgba(0, 0, 0, 0.5);
	}

	.hello-content {
		background-color: #fefefe;
		margin: 15% auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
		max-width: 400px;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		border-radius: 8px;
		position: relative;
		z-index: 2;
		/* Ensure modal content is above the overlay */
	}

	.ppp {
		margin: 10px 0;
	}

	.aaa {
		display: block;
		padding: 10px;
		margin-top: 10px;
		text-align: center;
		background-color: #4caf50;
		color: white;
		text-decoration: none;
		border-radius: 5px;
	}

	.aaa:hover {
		background-color: #45a049;
	}

	.bbb {
		display: block;
		padding: 10px;
		margin-top: 10px;
		text-align: center;
		background-color: #f44336;
		/* Red color for "Go Back" button */
		color: white;
		text-decoration: none;
		border-radius: 5px;
	}

	.bbb:hover {
		background-color: #d32f2f;
	}

	.body-disabled {
		overflow: hidden;
	}

	.order-container {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		padding: 40px;
	}

	.order-details {
		background-color: #fff;
		border-radius: 10px;
		padding: 80px;
		/* Increased padding */
		margin-bottom: 30px;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		background-color: #f3fdf3;
	}

	.order-heading {
		font-size: 48px;
		color: #333;
		margin-bottom: 30px;
	}

	.order-detail {
		display: flex;
		justify-content: space-between;
		margin-bottom: 15px;
	}

	.detail-label {
		font-weight: bold;
		color: #555;
	}

	.detail-value {
		color: #333;
	}

	/* Styles for the Table */
	.order-table {
		width: 100%;
		border-collapse: collapse;
		margin-top: 20px;
	}

	.order-table th,
	.order-table td {
		border: 1px solid #ddd;
		padding: 15px;
		/* Increased padding */
		text-align: left;
	}

	.ordered-item td {
		padding: 12px;
		/* Increased padding */
	}

	.ordered-item:nth-child(even) {
		background-color: #f9f9f9;
	}

	/* Larger Back to Home Link */
	.back-to-home {
		margin-top: 30px;
	}

	.home-link {
		text-decoration: none;
		padding: 20px 30px;
		/* Increased padding */
		background-color: #4CAF50;
		color: #fff;
		border-radius: 8px;
		font-size: 20px;
		/* Increased font size */
		transition: background-color 0.3s ease;
	}

	.home-link:hover {
		background-color: #45a049;
	}
</style>

<script>
	function openModal() {
		document.getElementById("loginModal").style.display = "block";
		document.body.classList.add("body-disabled");
	}

	function closeModal() {
		document.getElementById("loginModal").style.display = "none";
		document.body.classList.remove("body-disabled");
	}

	window.onload = openModal;

	function goBack() {
		window.history.back()
	}
	function openConfirmationModal(id) {
		document.getElementById('confirmationModal' + id).style.display = 'block';
	}

	function closeConfirmationModal() {
		document.getElementById('confirmationModal').style.display = 'none';
	}

</script>


<% if (loginRequired) { %>
	<div id="loginModal" class="hello">
		<div class="hello-content">
			<p class="ppp">
				<%= loginMessage %>
			</p>
			<a class="aaa" href="/login">Login</a>
			<a class="aaa" href="/register">Sign Up</a>
			<a class="bbb" href="javascript:void(0);" onclick="goBack()">Go Back</a>
		</div>
	</div>
	<% } %>




		<!-- Header -->
		<header class="header-v3">
			<!-- Header desktop -->
			<div class="container-menu-desktop trans-03">
				<div class="wrap-menu-desktop">
					<nav class="limiter-menu-desktop p-l-45">

						<!-- Logo desktop -->
						<a href="/home" class="logo">
							<span id="logo">TRENDS</span>
						</a>

						<!-- Menu desktop -->
						<div class="menu-desktop">
							<ul class="main-menu">
								<li>
									<a href="/home">Home</a>
								</li>

								<li class="label1" data-label1="hot">
									<a href="/products">Shop</a>
								</li>

								<li class="active-menu">
									<a href="/cart">Cart</a>
								</li>

								<li>
									<a href="/blog">Blog</a>
								</li>

								<li>
									<a href="/about">About</a>
								</li>

								<li>
									<a href="/contact">Contact</a>
								</li>


							</ul>
						</div>

						<!-- The rest of your cart page content goes here -->

						<!-- Icon header -->
						<!-- Icon header -->
						<div class="wrap-icon-header flex-w flex-r-m h-full">
							<div class="wrap-icon-header flex-w flex-r-m">
								<!-- Login icon -->
								<% if (valid===undefined) { %>
									<a href="/login"
										class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-login"
										data-toggle="tooltip" title="Login">
										<i class="zmdi zmdi-alert-circle"></i>
									</a>
									<% } %>


										<div
											class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-modal-search">
											<i class="zmdi zmdi-search"></i>
										</div>

										<a href="/cart"
											class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti "
											data-notify="<%= (cartItems !== null && typeof cartItems !== 'undefined') ? cartItems : 0 %>">
											<i class="zmdi zmdi-shopping-cart"></i>
										</a>

										<a href="#"
											class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti"
											data-notify="0">
											<i class="zmdi zmdi-favorite-outline"></i>
										</a>&nbsp;&nbsp;&nbsp;
										<% if (valid) { %>
											<a href="/account"
												class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 ">
												<i class="zmdi zmdi-account"></i>
											</a>
											<% } %>
							</div>
							<% if (valid) { %>
								<div class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-logout"
									data-toggle="modal" data-target="#logoutModal">
									<i class="zmdi zmdi-power-off"></i>
								</div>
								<% } %>
						</div>


						<!-- Logout Modal -->
						<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog"
							aria-labelledby="logoutModalLabel" aria-hidden="true">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="logoutModalLabel">Logout Confirmation
										</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										Are you sure you want to logout?
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Cancel</button>
										<a href="/logout" class="btn btn-primary">Yes,I do!</a>
									</div>
								</div>
							</div>
						</div>

				</div>
				</nav>
			</div>
			</div>

			<!-- Header Mobile -->
			<div class="wrap-header-mobile">
				<!-- Logo moblie -->
				<div class="logo-mobile">
					<span id="logo1">TRENDS</span>
				</div>
				<% if (valid===undefined) { %>
					<a href="/login" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 js-show-login"
						data-toggle="tooltip" title="Login">
						<i class="zmdi zmdi-alert-circle"></i>
					</a>&nbsp;&nbsp;
					<% } %>

						<div class="wrap-icon-header flex-w flex-r-m m-r-15">
							<div class="icon-header-item cl2 hov-cl1 trans-04 p-r-11 js-show-modal-search">
								<i class="zmdi zmdi-search"></i>
							</div>

							<a href="/cart"
								class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 icon-header-noti "
								data-notify="<%= (cartItems !== null && typeof cartItems !== 'undefined') ? cartItems : 0 %>">
								<i class="zmdi zmdi-shopping-cart"></i>
							</a>

							<a href="#"
								class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-r-11 p-l-10 icon-header-noti"
								data-notify="0">
								<i class="zmdi zmdi-favorite-outline"></i>
							</a>
							<% if (valid) { %>
								<a href="/account" class="icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 ">
									<i class="zmdi zmdi-account"></i>
								</a>
								<% } %>
						</div>

						<!-- Button show menu -->
						<div class="btn-show-menu-mobile hamburger hamburger--squeeze">
							<span class="hamburger-box">
								<span class="hamburger-inner"></span>
							</span>
						</div>
			</div>


			<!-- Menu Mobile -->
			<div class="menu-mobile">
				<ul class="main-menu-m">
					<li>
						<a href="/home">Home</a>
						<span class="arrow-main-menu-m">
							<i class="fa fa-angle-right" aria-hidden="true"></i>
						</span>
					</li>

					<li>
						<a href="/products" class="label1 rs1" data-label1="hot">Shop</a>
					</li>

					<li>
						<a href="/cart">Cart</a>
					</li>

					<li>
						<a href="/blog">Blog</a>
					</li>

					<li>
						<a href="/about">About</a>
					</li>

					<li>
						<a href="/contact">Contact</a>
					</li>
					<li>
						<a href="/logout">Logout</a>
					</li>
				</ul>
			</div>

			<!-- Modal Search -->
			<div class="modal-search-header flex-c-m trans-04 js-hide-modal-search">
				<button class="flex-c-m btn-hide-modal-search trans-04">
					<i class="zmdi zmdi-close"></i>
				</button>

				<form class="container-search-header">
					<div class="wrap-search-header">
						<input class="plh0" type="text" name="search" placeholder="Search...">

						<button class="flex-c-m trans-04">
							<i class="zmdi zmdi-search"></i>
						</button>
					</div>
				</form>
			</div>
		</header>



		<!-- Title page -->
		<section class="bg-img1 txt-center p-lr-15 p-tb-92"
			style="background-image: url('https://i.pinimg.com/736x/78/1e/2c/781e2cdb91d16efbfe31b7b9a3202304.jpg');">
			<h2 class="ltext-105 cl0 txt-center">
				Order Details
			</h2>
		</section>

		<div class="container">
			<div class="row">
				<div class="col-lg-10 col-xl-7 m-lr-auto m-b-50">
					<div class="m-l-25 m-r--38 m-lr-0-xl">
						<div class="order-container">
							<div class="order-details">
								<h4 class="order-heading">
									Order Details
								</h4>
								<!-- Display order details here, such as order number, date, etc. -->
								<div class="order-detail">
									<span class="detail-label">Order id:</span>
									<span class="detail-value">
										<%= order._id %>
									</span>
								</div>

								<div class="order-detail">
									<span class="detail-label">Order Date:</span>
									<span class="detail-value">
										<%= order.orderDate.toDateString() %>
									</span>
								</div>

								<div class="order-detail">
									<span class="detail-label">Order Amount:</span>
									<span class="detail-value">
										<%= order.orderAmount %>
									</span>
								</div>

								<div class="order-detail">
									<span class="detail-label">Order Status:</span>
									<span class="detail-value">
										Proccessing
									</span>
								</div>

								<!-- Display Expected Delivery Date -->
								<div class="order-detail">
									<span class="detail-label">Expected Delivery By:</span>
									<span class="detail-value">
										<%= order.deliveryDate.toDateString() %>
									</span>
								</div>

								<!-- Display Ordered Items -->
								<h4 class="order-heading">
									Ordered Items
								</h4>
								<!-- Display Ordered Items as a Table -->
								<table class="order-table">
									<thead>
										<tr>
											<th>Product</th>
											<th>Price</th>
											<th>Quantity</th>
										</tr>
									</thead>
									<tbody>
										<% order.OrderedItems.forEach(function(item) { %>
											<tr class="ordered-item">
												<td>
													<%= item.productid.name %>
												</td>
												<td>
													<%= item.price %>
												</td>
												<td>
													<%= item.quantity %>
												</td>
											</tr>
											<% }) %>
									</tbody>
								</table>

							</div>

							<div class="back-to-home">
								<a href="/" class="home-link">
									Back to Home
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		
		</div>
		<br><br><br>
		<!-- Footer -->
		<footer class="bg3 p-t-75 p-b-32">
			<div class="container">
				<div class="row">
					<div class="col-sm-6 col-lg-3 p-b-50">
						<h4 class="stext-301 cl0 p-b-30">
							Categories
						</h4>

						<ul>
							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Women
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Men
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Shoes
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Watches
								</a>
							</li>
						</ul>
					</div>

					<div class="col-sm-6 col-lg-3 p-b-50">
						<h4 class="stext-301 cl0 p-b-30">
							Help
						</h4>

						<ul>
							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Track Order
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Returns
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									Shipping
								</a>
							</li>

							<li class="p-b-10">
								<a href="#" class="stext-107 cl7 hov-cl1 trans-04">
									FAQs
								</a>
							</li>
						</ul>
					</div>

					<div class="col-sm-6 col-lg-3 p-b-50">
						<h4 class="stext-301 cl0 p-b-30">
							GET IN TOUCH
						</h4>

						<p class="stext-107 cl7 size-201">
							Any questions? Let us know in store at 8th floor, 379 Hudson St, New York, NY
							10018 or
							call us
							on (+1) 96 716 6879
						</p>

						<div class="p-t-27">
							<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
								<i class="fa fa-facebook"></i>
							</a>

							<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
								<i class="fa fa-instagram"></i>
							</a>

							<a href="#" class="fs-18 cl7 hov-cl1 trans-04 m-r-16">
								<i class="fa fa-pinterest-p"></i>
							</a>
						</div>
					</div>

					<div class="col-sm-6 col-lg-3 p-b-50">
						<h4 class="stext-301 cl0 p-b-30">
							Newsletter
						</h4>

						<form>
							<div class="wrap-input1 w-full p-b-4">
								<input class="input1 bg-none plh1 stext-107 cl7" type="text" name="email"
									placeholder="example@gmail.com">
								<div class="focus-input1 trans-04"></div>
							</div>

							<div class="p-t-18">
								<button class="flex-c-m stext-101 cl0 size-103 bg1 bor1 hov-btn2 p-lr-15 trans-04">
									Subscribe
								</button>
							</div>
						</form>
					</div>
				</div>

				<div class="p-t-40">
					<div class="flex-c-m flex-w p-b-18">
						<a href="#" class="m-all-1">
							<img src="images/icons/icon-pay-01.png" alt="ICON-PAY">
						</a>

						<a href="#" class="m-all-1">
							<img src="images/icons/icon-pay-02.png" alt="ICON-PAY">
						</a>

						<a href="#" class="m-all-1">
							<img src="images/icons/icon-pay-03.png" alt="ICON-PAY">
						</a>

						<a href="#" class="m-all-1">
							<img src="images/icons/icon-pay-04.png" alt="ICON-PAY">
						</a>

						<a href="#" class="m-all-1">
							<img src="images/icons/icon-pay-05.png" alt="ICON-PAY">
						</a>
					</div>

					<p class="stext-107 cl6 txt-center">
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						Copyright &copy;
						<script>document.write(new Date().getFullYear());</script> All rights reserved |
						Made with
						<i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com"
							target="_blank">Colorlib</a> &amp; distributed by <a href="https://themewagon.com"
							target="_blank">ThemeWagon</a>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

					</p>
				</div>
			</div>
		</footer>


		<!-- Back to top -->
		<div class="btn-back-to-top" id="myBtn">
			<span class="symbol-btn-back-to-top">
				<i class="zmdi zmdi-chevron-up"></i>
			</span>
		</div>


		<script>

			async function updateQuantity(id, change) {
				try {
					const quantityElement = document.getElementById(`quantity${id}`);
					let quantity = parseInt(quantityElement.value) + change;
					quantity = Math.max(quantity, 1);

					const res = await $.ajax({
						url: "/quantity-manage/" + id,
						method: "POST",
						data: { quantity: quantity },
					});

					const newContent = $(res).find(`#${id}`).html();
					const price = $(res).find(`#prPrice${id}`).html();
					const totals = $(res).find(`#totals`).html();

					$(`#${id}`).html(newContent);
					$(`#prPrice${id}`).html(price);
					$(`#totals`).html(totals);
				} catch (error) {
					console.error("Error updating quantity:", error.message);
				}
			}
		</script>

		<!--===============================================================================================-->
		<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
		<!--===============================================================================================-->
		<script src="vendor/animsition/js/animsition.min.js"></script>
		<!--===============================================================================================-->
		<script src="vendor/bootstrap/js/popper.js"></script>
		<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
		<!--===============================================================================================-->
		<script src="vendor/select2/select2.min.js"></script>
		<script>
			$(".js-select2").each(function () {
				$(this).select2({
					minimumResultsForSearch: 20,
					dropdownParent: $(this).next('.dropDownSelect2')
				});
			})
		</script>
		<!--===============================================================================================-->
		<script src="vendor/MagnificPopup/jquery.magnific-popup.min.js"></script>
		<!--===============================================================================================-->
		<script src="vendor/perfect-scrollbar/perfect-scrollbar.min.js"></script>
		<script>
			$('.js-pscroll').each(function () {
				$(this).css('position', 'relative');
				$(this).css('overflow', 'hidden');
				var ps = new PerfectScrollbar(this, {
					wheelSpeed: 1,
					scrollingThreshold: 1000,
					wheelPropagation: false,
				});

				$(window).on('resize', function () {
					ps.update();
				})
			});
		</script>
		<!--===============================================================================================-->
		<script src="js/main.js"></script>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


		</body>

</html>